{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/invoices.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../add-invoice/add-invoice.component\";\nimport * as i4 from \"../edit-invoice/edit-invoice.component\";\n\nfunction ListInvoiceComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ListInvoiceComponent_tr_19_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const u_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.editInvoice(u_r3);\n    });\n    i0.ɵɵtext(13, \"Modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ListInvoiceComponent_tr_19_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.deleteInvoice(i_r4);\n    });\n    i0.ɵɵtext(16, \"Supprimer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const u_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r3.idFacture, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r3.montantFacture, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r3.montantRemise, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r3.dateFacture, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", u_r3.active, \" \");\n  }\n}\n\nfunction ListInvoiceComponent_app_add_invoice_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-add-invoice\", 7);\n    i0.ɵɵlistener(\"aded\", function ListInvoiceComponent_app_add_invoice_22_Template_app_add_invoice_aded_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.addInv($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ListInvoiceComponent_app_edit_invoice_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-edit-invoice\", 8);\n    i0.ɵɵlistener(\"edited\", function ListInvoiceComponent_app_edit_invoice_23_Template_app_edit_invoice_edited_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.editMyInvoice($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"invoiceToEdit\", ctx_r2.invoiceToEdit1);\n  }\n}\n\nexport let ListInvoiceComponent = /*#__PURE__*/(() => {\n  class ListInvoiceComponent {\n    constructor(factureS) {\n      this.factureS = factureS;\n      this.show = false;\n      this.showAdd = false;\n    }\n\n    ngOnInit() {\n      this.getAllFactures();\n    }\n\n    deleteInvoice(i) {\n      this.invoices.splice(i, 1);\n    }\n\n    showForm() {\n      this.showAdd = true;\n      this.show = false;\n    }\n\n    editInvoice(x) {\n      this.show = true;\n      this.showAdd = false;\n      this.invoiceToEdit1 = x;\n    }\n\n    editMyInvoice(i) {\n      for (let k in this.invoices) {\n        if (this.invoices[k].idFacture == i.idFacture) {\n          this.invoices[k] = i;\n        }\n      }\n    }\n\n    addInv(i) {\n      // add facture must pass an idClient\n      // facture need to have detail facture to work (pourcentage remise et produitId)\n      // this.factureS.addFacture(i,1).subscribe(\n      //   res => {\n      //     console.log(res);\n      //     this.invoices.push(res);\n      //   }\n      // )\n      //mech bech t'affichi chay khater 9a3ed tekhou fel données bel base te3 spring\n      this.invoices.push(i);\n    } // getting data from spring !\n\n\n    getAllFactures() {\n      this.factureS.getAllFactures().subscribe(res => {\n        console.log(res);\n        this.invoices = res;\n      });\n    }\n\n    getOneById() {\n      this.factureS.getOneFacture(this.factureId).subscribe(res => {\n        console.log(res);\n      });\n    }\n\n  }\n\n  ListInvoiceComponent.ɵfac = function ListInvoiceComponent_Factory(t) {\n    return new (t || ListInvoiceComponent)(i0.ɵɵdirectiveInject(i1.InvoicesService));\n  };\n\n  ListInvoiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListInvoiceComponent,\n    selectors: [[\"app-list-invoice\"]],\n    decls: 24,\n    vars: 3,\n    consts: [[1, \"table\", \"user-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"aded\", 4, \"ngIf\"], [3, \"invoiceToEdit\", \"edited\", 4, \"ngIf\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [3, \"aded\"], [3, \"invoiceToEdit\", \"edited\"]],\n    template: function ListInvoiceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\", 0);\n        i0.ɵɵelementStart(1, \"thead\");\n        i0.ɵɵelementStart(2, \"tr\");\n        i0.ɵɵelementStart(3, \"th\");\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵtext(5, \"IdInvoice\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"th\");\n        i0.ɵɵelementStart(7, \"span\");\n        i0.ɵɵtext(8, \"DiscountAmount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\");\n        i0.ɵɵelementStart(10, \"span\");\n        i0.ɵɵtext(11, \"BillAmount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵelementStart(13, \"span\");\n        i0.ɵɵtext(14, \"DateBill\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\");\n        i0.ɵɵelementStart(16, \"span\");\n        i0.ɵɵtext(17, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"tbody\");\n        i0.ɵɵtemplate(19, ListInvoiceComponent_tr_19_Template, 17, 5, \"tr\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ListInvoiceComponent_Template_button_click_20_listener() {\n          return ctx.showForm();\n        });\n        i0.ɵɵtext(21, \"Ajouter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, ListInvoiceComponent_app_add_invoice_22_Template, 1, 0, \"app-add-invoice\", 3);\n        i0.ɵɵtemplate(23, ListInvoiceComponent_app_edit_invoice_23_Template, 1, 1, \"app-edit-invoice\", 4);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngForOf\", ctx.invoices);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAdd);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.show);\n      }\n    },\n    directives: [i2.NgForOf, i2.NgIf, i3.AddInvoiceComponent, i4.EditInvoiceComponent],\n    styles: [\"\"]\n  });\n  return ListInvoiceComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}